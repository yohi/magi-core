<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAGI SYSTEM INTERFACE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700;900&family=Share+Tech+Mono&display=swap');

        :root {
            --bg-color: #000;
            --magi-blue: #4a7fb0;
            --magi-orange: #e87c3e;
            --magi-green: #3cae88;
            --magi-red: #cc3333;
            --line-width: 2px;
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Share Tech Mono', monospace;
            overflow: hidden;
            color: var(--magi-orange);
        }

        /* Main Scale Wrapper to fit screen */
        .scale-wrapper {
            transform-origin: center;
            transform: scale(0.9); /* Adjust based on screen size via JS if needed */
        }

        .magi-container {
            position: relative;
            width: 1000px;
            height: 700px;
            /* border: 1px solid #333; Debugging */
        }

        /* --- Common Monolith Styles --- */
        .monolith {
            position: absolute;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            font-weight: bold;
            font-size: 32px;
            color: #000;
            z-index: 2;
        }

        /* SVGのスタイル */
        .monolith svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: visible; 
            z-index: 1;
        }
        
        .monolith polygon {
            vector-effect: non-scaling-stroke;
            stroke-linejoin: miter; /* シャープな角を維持 */
        }

        /* Inner border effect removed */
        .monolith::after {
            display: none;
        }

        .monolith-content {
            z-index: 3;
            position: relative; /* SVGの上に表示 */
            display: flex;
            align-items: center;
        }

        .monolith-label {
            letter-spacing: 1px;
        }

        .monolith-number {
            /* Tighten spacing around the dot */
            margin-left: -5px; 
            letter-spacing: -3px;
        }

        /* --- BALTHASAR-2 --- */
        .balthasar {
            width: 255px;
            height: 300px; 
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Move Balthasar text down by 1.5em */
        .balthasar .monolith-content {
            transform: translateY(1.5em);
        }

        /* --- CASPER-3 --- */
        .casper {
            width: 295px;
            height: 215px;
            bottom: 181px; 
            left: 50%;
            margin-left: -50px; 
            transform: translateX(-100%); 
        }

        /* --- MELCHIOR-1 --- */
        .melchior {
            width: 295px;
            height: 215px;
            bottom: 181px;
            right: 50%;
            margin-right: -50px; 
            transform: translateX(100%); 
        }

        /* --- Connectors (Pipes) --- */
        .connector {
            position: absolute;
            background-color: var(--magi-orange);
            z-index: 1;
            border: 1px solid #000; 
            box-sizing: border-box;
        }

        /* Casper-Melchior Link */
        .conn-horizontal {
            width: 100px;
            height: 15px; 
            bottom: 250px; 
            left: 50%;
            transform: translateX(-50%);
            border-top: 2px solid #000;
            border-bottom: 2px solid #000;
            border-left: none;
            border-right: none;
        }

        /* Balthasar-Casper Link */
        .conn-diag-left {
            width: 40px;
            height: 15px;
            top: 312.5px; 
            left: 411px;
            transform-origin: 0% 50%; 
            transform: rotate(128deg); 
        }

         /* Balthasar-Melchior Link */
         .conn-diag-right {
            width: 40px;
            height: 15px;
            top: 312.5px; 
            left: 589px;
            transform-origin: 0% 50%;
            transform: rotate(52deg); 
        }

        /* --- MAGI Center Text --- */
        .magi-center-text {
            position: absolute;
            bottom: 300px; 
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Noto Serif JP', serif;
            font-weight: 700; 
            font-size: 36px;
            color: var(--magi-orange);
            text-shadow: 0 0 5px var(--magi-orange);
            width: 100px; /* Width C */
            text-align: center;
        }

        /* --- Side Information Blocks (Teiso/Ketsugi) --- */
        .info-block {
            position: absolute;
            /* Adjusted top from 50px to 46px to align perfectly with Balthasar's outer stroke edge */
            /* Balthasar top is 50px, but stroke-width is 8px (extends 4px outward), so visual top is 46px */
            top: 46px; 
            width: 255px; /* Matches Balthasar Width */
        }

        /* Green Lines */
        .green-line {
            height: 12px; 
            margin: 5px 0;
            width: 100%;
            position: relative;
            background-color: transparent;
            border: none;
            box-shadow: none;
        }

        .green-line::before,
        .green-line::after {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 45%; 
            border: 1px solid var(--magi-green); 
            border-radius: 10px; 
            box-shadow: 0 0 3px var(--magi-green);
            box-sizing: border-box;
        }

        .green-line::before {
            top: 0;
        }

        .green-line::after {
            bottom: 0;
        }

        .info-block .green-line:first-child {
            margin-top: 0;
        }

        .info-block.left {
            left: 50%;
            margin-left: -382.5px;
            text-align: right;
        }

        .info-block.right {
            left: 50%;
            margin-left: 127.5px;
            text-align: left;
        }

        /* Header Text (Teiso/Ketsugi) */
        .header-title {
            font-family: 'Noto Serif JP', serif;
            font-size: 84px;
            line-height: 1;
            font-weight: 900;
            color: var(--magi-orange);
            margin: 0;
            padding: 0 25px; 
            text-shadow: 0 0 5px var(--magi-orange);
            display: flex;
            justify-content: space-between;
            transform: translateY(-4px);
        }

        .header-title span {
            display: inline-block;
            transform: scaleX(1.3); 
        }

        /* Data Block (Left) */
        .data-list {
            margin-top: 5px; 
            /* 修正: 標準的なゴシック体に変更 */
            font-family: "Helvetica", "Arial", sans-serif;
            color: var(--magi-orange);
            text-align: left;
            text-shadow: 0 0 2px var(--magi-orange);
            padding-left: 20px;
        }

        .code-highlight {
            font-size: 38px; 
            font-weight: normal; 
            line-height: 1;
            margin-bottom: 2px;
            display: block;
            letter-spacing: 0px;
            /* 修正: 圧縮を緩和 (0.85 -> 0.9) */
            transform: scaleX(0.9); 
            transform-origin: left; 
        }

        .data-row {
            display: flex;
            justify-content: flex-start;
            font-size: 18px; 
            font-weight: 900; 
            line-height: 1.0; 
            margin-bottom: 1px; 
            padding-left: 28px;
            /* 修正: 圧縮を緩和 (0.75 -> 0.9) */
            transform: scaleX(0.9); 
            transform-origin: left;
            letter-spacing: 0.5px;
            width: 112%; /* 140% -> 112% (1/0.9) 幅調整 */
        }

        /* Hiketsu Stamp (Right) */
        .hiketsu-container {
            margin-top: 50px;
            display: flex;
            justify-content: center; 
            position: relative;
            left: 2px; 
        }

        .hiketsu-stamp {
            border: 4px double var(--magi-red); 
            border-radius: 4px; 
            min-width: 140px; 
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0 10px 10px; 
            font-size: 44px; 
            line-height: 1; 
            color: var(--magi-red);
            font-family: 'Noto Serif JP', serif;
            font-weight: 900;
            box-shadow: none;
            text-shadow: none;
            background: transparent; 
            letter-spacing: 10px; 
        }

        .hiketsu-stamp span {
            display: inline-block;
            transform: scaleX(1.3);
        }

        /* Geometric Lines Background (Triangle mesh) */
        .geo-lines {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
    </style>
</head>
<body>

    <div class="scale-wrapper" id="scaler">
        <div class="magi-container">
            
            <!-- Left Info Block: Teiso -->
            <div class="info-block left">
                <div class="green-line"></div>
                <div class="header-title">
                    <span>提</span><span>訴</span>
                </div>
                <div class="green-line"></div>

                <div class="data-list">
                    <span class="code-highlight">CODE : 378</span>
                    <div class="data-row">FILE:MAGI_SYS</div>
                    <div class="data-row">EXTENTION:6008</div>
                    <div class="data-row">EX_MODE:OFF</div>
                    <div class="data-row">PRIORITY:AAA</div>
                </div>
            </div>

            <!-- Right Info Block: Ketsugi -->
            <div class="info-block right">
                <div class="green-line"></div>
                <div class="header-title">
                    <span>決</span><span>議</span>
                </div>
                <div class="green-line"></div>

                <div class="hiketsu-container">
                    <div class="hiketsu-stamp"><span>否決</span></div>
                </div>
            </div>


            <!-- Connectors -->
            <div class="connector conn-horizontal"></div>
            <div class="connector conn-diag-left"></div>
            <div class="connector conn-diag-right"></div>
            
            <!-- Orange Triangle Lines -->
            <svg class="geo-lines" width="1000" height="700">
                <defs>
                    <marker id="dot" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5">
                    <circle cx="5" cy="5" r="5" fill="#e87c3e" />
                    </marker>
                </defs>
                
                <line x1="411" y1="320" x2="386" y2="352" stroke="#e87c3e" stroke-width="15" stroke-linecap="butt" />
                <line x1="589" y1="320" x2="614" y2="352" stroke="#e87c3e" stroke-width="15" stroke-linecap="butt" />
            </svg>


            <!-- Monoliths -->
            <div class="monolith balthasar">
                <svg viewBox="0 0 255 300" preserveAspectRatio="none">
                    <!-- 1. オレンジの外枠 (8px width -> 外4px, 内4px) -->
                    <polygon points="0,0 255,0 255,240 177.5,300 77.5,300 0,240" fill="none" stroke="var(--magi-orange)" stroke-width="8" />
                    <!-- 2. 黒の内枠 (4px width -> 外2px, 内2px) -> オレンジの内側半分を上書きするが、外側2pxは残る -->
                    <polygon points="0,0 255,0 255,240 177.5,300 77.5,300 0,240" fill="none" stroke="#000" stroke-width="4" />
                    <!-- 3. 青塗り (stroke none) -> 黒の内側半分を上書きするが、外側2pxは残る -->
                    <polygon points="0,0 255,0 255,240 177.5,300 77.5,300 0,240" fill="var(--magi-blue)" stroke="none" />
                </svg>
                <div class="monolith-content">
                    <span class="monolith-label">BALTHASAR<span class="monolith-number">・2</span></span>
                </div>
            </div>

            <div class="monolith casper">
                <svg viewBox="0 0 295 215" preserveAspectRatio="none">
                    <polygon points="0,0 180,0 295,95 295,215 0,215" fill="none" stroke="var(--magi-orange)" stroke-width="8" />
                    <polygon points="0,0 180,0 295,95 295,215 0,215" fill="none" stroke="#000" stroke-width="4" />
                    <polygon points="0,0 180,0 295,95 295,215 0,215" fill="var(--magi-blue)" stroke="none" />
                </svg>
                <div class="monolith-content">
                    <span class="monolith-label">CASPER<span class="monolith-number">・3</span></span>
                </div>
            </div>

            <div class="monolith melchior">
                <svg viewBox="0 0 295 215" preserveAspectRatio="none">
                    <polygon points="115,0 295,0 295,215 0,215 0,95" fill="none" stroke="var(--magi-orange)" stroke-width="8" />
                    <polygon points="115,0 295,0 295,215 0,215 0,95" fill="none" stroke="#000" stroke-width="4" />
                    <polygon points="115,0 295,0 295,215 0,215 0,95" fill="var(--magi-blue)" stroke="none" />
                </svg>
                <div class="monolith-content">
                    <span class="monolith-label">MELCHIOR<span class="monolith-number">・1</span></span>
                </div>
            </div>

            <!-- MAGI Label -->
            <div class="magi-center-text">MAGI</div>

        </div>
    </div>

    <script>
        // Auto-scale logic to keep the entire system visible in window
        function resize() {
            const container = document.querySelector('.magi-container');
            const wrapper = document.getElementById('scaler');
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            
            const scaleX = windowWidth / 1100; // 1000px + padding
            const scaleY = windowHeight / 800; // 700px + padding
            
            const scale = Math.min(scaleX, scaleY, 1.2); // Cap at 1.2x
            
            wrapper.style.transform = `scale(${scale})`;
        }

        window.addEventListener('resize', resize);
        resize();
    </script>
</body>
</html>
